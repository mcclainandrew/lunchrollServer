from app import app
from flask import request
import requests
placesApiKey = "AIzaSyDE5Kh1UcwN44VxsM_BrxAIXFt5XB3KoVY"
nearbySearch = "https://maps.googleapis.com/maps/api/place/nearbysearch/json"
textSearch = "https://maps.googleapis.com/maps/api/place/textsearch/json"

@app.route('/')
@app.route('/index')
def index():
    return "Hello World"

@app.route('/nearbySpecific', methods=['POST'])
def searchSpecific():
    latitude = request.form["latitude"]
    longitude = request.form["longitude"]
    rank = "distance"
    location = latitude + "," + longitude
    genre = request.form["genre"]
    genre = genre + "+food"
    payload = {"location": location, "rank": rank, "query": genre, "key": placesApiKey}
    
@app.route('/nearbySuggested', methods=['POST'])   
@app.route('/nearbyAny', methods=['POST'])
def searchNearby():
    latitude = request.form["latitude"]
    longitude = request.form["longitude"]
    location = latitude + "," + longitude
    payload = {"location": location, "radius": 500, "types": "food", "key": placesApiKey}
    r = requests.get(nearbySearch, payload)
    return r.json() 


